<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Invitaci√≥n</title>
    <link rel="stylesheet" href="styles.css" />
    <meta name="theme-color" content="#0b0b0d" />
  </head>
  <body>
    <button class="audio audio--floating" type="button" id="audioToggle" aria-label="Reproducir m√∫sica">
      <span class="audio__icon" aria-hidden="true">‚ô™</span>
      <span class="audio__label" id="audioLabel">‚ñ∂</span>
    </button>

    <div class="page">
      <header class="hero" id="top">
        <div class="hero__bg" aria-hidden="true"></div>
        <div class="hero__overlay" aria-hidden="true"></div>

        <div class="hero__content">
          <div class="hero__kicker" id="heroKicker">MIS XV</div>
          <h1 class="hero__name" id="heroName">Nombre</h1>
          <div class="hero__date" id="heroDate">00.00.0000</div>
          <div class="hero__quote" id="heroQuote">Texto de bienvenida</div>

          <div class="card card--countdown">
            <div class="card__title" id="countdownTitle">Faltan</div>
            <script>
              (function (d, s, id) {
                var js,
                  pjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s);
                js.id = id;
                js.src = "//www.tickcounter.com/static/js/loader.js";
                pjs.parentNode.insertBefore(js, pjs);
              })(document, "script", "tickcounter-sdk");
            </script>
            <div class="countdown-wrapper" style="position: relative">
              <a
                data-type="countdown"
                data-id="9492788"
                class="tickcounter"
                style="
                  display: block;
                  left: 0;
                  width: 100%;
                  height: 0;
                  position: relative;
                  padding-bottom: 25%;
                  margin: 0 auto;
                "
                title="a"
                href="//www.tickcounter.com/"
                >a</a
              >
              <div
                class="countdown-overlay"
                aria-hidden="true"
                style="position: absolute; inset: 0; background: transparent; z-index: 5"
              ></div>
            </div>
          </div>
        </div>
      </header>

      <main>
        <section class="section section--dark" id="fecha">
          <div class="container">
            <h2 class="section__title" id="whenTitle">Cu√°ndo</h2>
            <div class="two">
              <div class="panel">
                <div class="panel__big" id="whenDayName">S√°bado</div>
                <div class="panel__line" id="whenDateLong">14 de Marzo de 2026</div>
                <div class="panel__line" id="whenTime">21:00 hs</div>
              </div>
              <div class="panel panel--cta">
                <div class="panel__hint" id="calendarHint">Agendalo</div>
                <a class="btn" id="calendarLink" href="#" target="_blank" rel="noopener noreferrer">AGENDAR</a>
              </div>
            </div>
          </div>
        </section>

        <section class="section" id="lugar">
          <div class="container">
            <h2 class="section__title" id="whereTitle">Lugar de Celebraci√≥n</h2>
            <div class="two">
              <div class="panel">
                <div class="panel__big" id="venueName">Sal√≥n</div>
                <div class="panel__line" id="venueAddress">Direcci√≥n</div>
                <div class="panel__button">
                  <a class="btn btn--ghost" id="mapsLink" href="#" target="_blank" rel="noopener noreferrer">VER UBICACI√ìN</a>
                </div>
              </div>
              <div class="panel panel--map">
                <iframe
                  id="mapsEmbed"
                  title="Mapa"
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  allowfullscreen
                  src=""
                ></iframe>
              </div>
            </div>
          </div>
        </section>

        <section class="section section--dark" id="regalo">
          <div class="container">
            <div class="gift-icon" id="giftIcon">
              <svg fill="#ffffff" width="64px" height="64px" viewBox="0 0 256 256" id="Flat" xmlns="http://www.w3.org/2000/svg">
                <path d="M216,76H169.83887a26.21217,26.21217,0,0,0,6.24414-4.48535A27.99977,27.99977,0,1,0,136.48535,31.917c-3.55957,3.55957-6.396,9.13965-8.48535,16.63721-2.08936-7.49756-4.92578-13.07764-8.48535-16.6377A27.99995,27.99995,0,0,0,79.917,71.51465,26.21217,26.21217,0,0,0,86.16113,76H40A12.01328,12.01328,0,0,0,28,88v32a12.01328,12.01328,0,0,0,12,12h4v68a12.01343,12.01343,0,0,0,12,12H200a12.01343,12.01343,0,0,0,12-12V132h4a12.01328,12.01328,0,0,0,12-12V88A12.01328,12.01328,0,0,0,216,76ZM142.1416,37.57373a20.00028,20.00028,0,1,1,28.28516,28.28418c-7.25977,7.259-27.376,9.57275-38.32813,10.04395C132.56934,64.94946,134.88281,44.83276,142.1416,37.57373Zm-56.56836,0a20.02422,20.02422,0,0,1,28.28516-.00024c7.25879,7.25927,9.57226,27.376,10.043,38.32837-10.95215-.4712-31.06836-2.78492-38.32813-10.04395A20.0246,20.0246,0,0,1,85.57324,37.57373ZM36,120V88a4.00427,4.00427,0,0,1,4-4h84v40H40A4.00427,4.00427,0,0,1,36,120Zm16,80V132h72v72H56A4.00427,4.00427,0,0,1,52,200Zm152,0a4.00427,4.00427,0,0,1-4,4H132V132h72Zm16-80a4.00427,4.00427,0,0,1-4,4H132V84h84a4.00427,4.00427,0,0,1,4,4Z"/>
              </svg>
            </div>
            <h2 class="section__title" id="giftTitle">Regalo</h2>
            <p class="section__text" id="giftText">Tu presencia es mi mejor regalo, pero si quer√©s obsequiarme algo, te dejo mi alias.</p>
            <div class="gift-alias" id="giftAlias">mialias.arg</div>
          </div>
        </section>

        <section class="section section--dark" id="asistencia">
          <div class="container">
            <h2 class="section__title" id="rsvpTitle">¬øVen√≠s?</h2>
            <p class="section__text" id="rsvpText">Confirm√° tu presencia.</p>
            <div class="form">
              <div class="form__actions">
                <button class="btn" type="button" id="rsvpConfirm">CONFIRMAR</button>
              </div>
              <div class="form__status" id="rsvpStatus" aria-live="polite"></div>
            </div>
          </div>
        </section>

        <section class="section" id="menu">
          <div class="container">
            <h2 class="section__title" id="menuTitle">Men√∫ especial</h2>
            <p class="section__text" id="menuText">Si ten√©s alguna condici√≥n con el men√∫, avisanos.</p>
            <div class="form">
              <div class="form__actions">
                <button class="btn btn--ghost" type="button" id="menuConfirm">S√ç, TENGO</button>
              </div>
              <div class="form__status" id="menuStatus" aria-live="polite"></div>
            </div>
          </div>
        </section>

        <section class="section section--dark" id="dresscode">
          <div class="container">
            <h2 class="section__title" id="dressTitle">Dress Code</h2>
            <div class="panel panel--dress">
              <div class="panel__big" id="dressValue">Elegante Sport</div>
            </div>
          </div>
        </section>

        <section class="section" id="playlist">
          <div class="container">
            <h2 class="section__title" id="playlistTitle">Playlist</h2>
            <p class="section__text" id="playlistText">¬øQu√© canci√≥n no puede faltar?</p>
            <div class="form">
              <div class="form__actions">
                <button class="btn btn--ghost" type="button" id="playlistSuggest">SUGERIR CANCI√ìN</button>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer">
      </footer>
    </div>

    <audio id="bgAudio" preload="auto" crossorigin="anonymous"></audio>

    <script src="config.js"></script>
    <script>console.log('Config.js loaded');</script>
    <script src="app.js"></script>
    <script>console.log('App.js file loaded');</script>
    
    <!-- Script de prueba para audio -->
    <script>
      console.log('üéµ SCRIPT DE PRUEBA INICIADO');
      
      // Esperar a que todo cargue
      window.addEventListener('load', () => {
        console.log('üéµ Window loaded');
        
        const toggle = document.getElementById('audioToggle');
        const label = document.getElementById('audioLabel');
        const audio = document.getElementById('bgAudio');
        
        console.log('üéµ Elementos encontrados:');
        console.log('- toggle:', toggle);
        console.log('- label:', label);
        console.log('- audio:', audio);
        
        if (!toggle || !label || !audio) {
          console.error('‚ùå NO SE ENCONTRARON LOS ELEMENTOS');
          return;
        }
        
        let playing = false;
        let audioInitialized = false;
        
        const updateButton = () => {
          // Aplicar transici√≥n difuminada
          toggle.style.transition = 'all 0.3s ease';
          label.style.transition = 'all 0.3s ease';
          
          if (playing) {
            label.textContent = '‚ùö‚ùö';
            toggle.style.background = 'rgba(0, 255, 0, 0.5)';
            toggle.style.transform = 'scale(1.05)';
            toggle.style.boxShadow = '0 8px 25px rgba(0, 255, 0, 0.3)';
            console.log('üéµ Bot√≥n en PAUSA');
          } else {
            label.textContent = '‚ñ∂';
            toggle.style.background = 'rgba(255, 0, 0, 0.5)';
            toggle.style.transform = 'scale(1)';
            toggle.style.boxShadow = '0 8px 25px rgba(255, 0, 0, 0.3)';
            console.log('üéµ Bot√≥n en PLAY');
          }
        };
        
        const initializeAudio = () => {
          if (!audioInitialized && window.INVITACION_CONFIG?.audio?.url) {
            console.log('üéµ Inicializando audio...');
            audio.src = window.INVITACION_CONFIG.audio.url;
            audio.loop = true;
            audio.volume = 0.7;
            audioInitialized = true;
            
            // Event listeners para mejor control
            audio.addEventListener('play', () => {
              console.log('üéµ Audio event: play');
            });
            
            audio.addEventListener('pause', () => {
              console.log('üéµ Audio event: pause');
            });
            
            audio.addEventListener('ended', () => {
              console.log('üéµ Audio event: ended');
            });
            
            audio.addEventListener('error', (e) => {
              console.error('‚ùå Audio error:', e);
            });
          }
        };
        
        toggle.addEventListener('click', (e) => {
          console.log('üéµ ¬°BOT√ìN CLICKEADO!', e);
          
          if (!window.INVITACION_CONFIG?.audio?.url) {
            console.error('‚ùå NO HAY URL DE AUDIO');
            alert('‚ùå No hay URL de audio configurada');
            return;
          }
          
          // Inicializar audio si no est√° hecho
          initializeAudio();
          
          if (playing) {
            console.log('üéµ PAUSANDO...');
            audio.pause();
            playing = false;
          } else {
            console.log('üéµ REPRODUCIENDO...');
            
            audio.play().then(() => {
              console.log('‚úÖ AUDIO REPRODUCI√âNDOSE');
              console.log('üéµ Current time:', audio.currentTime);
              playing = true;
            }).catch(error => {
              console.error('‚ùå ERROR AL REPRODUCIR:', error);
              if (error.name === 'NotAllowedError') {
                alert('üîí Haz clic en el bot√≥n para reproducir m√∫sica (bloqueado por el navegador)');
              } else {
                alert('‚ùå Error al reproducir: ' + error.message);
              }
            });
          }
          
          updateButton();
        });
        
        // Estilos adicionales para el bot√≥n
        toggle.style.cursor = 'pointer';
        toggle.style.transition = 'all 0.3s ease';
        
        // Inicializar bot√≥n
        updateButton();
        console.log('üéµ SCRIPT DE PRUEBA COMPLETO');
      });
    </script>
  </body>
</html>
